{% extends "layout.html" %}

{% block head %}
    <style>
        #dicom_image {
            cursor: zoom-in; /* Para saber que el área es interactiva */
            display: block;
            touch-action: none; /* Evita interferencias en pantallas táctiles */
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&icon_names=reset_settings,zoom_in,zoom_out&display=block" rel="stylesheet" >

{% endblock %}

{% block title %}
    Upload
{% endblock %}

{% block nav_item %}
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="/">Home</a>
    </li>
    <li class="nav-item">Viewing: {{ filename }}</li>
    <li class="nav-item">
        <button id="export_btn" type="submit">Export as PN</button>
    </li>
{% endblock %}

{% block main %}
    <p id="text_slice">Slice: <output id="value_slice"></output></p>
    <input id="slice" name="slice_index" type="range" min="0" step="1" value="0">
    
    <p id="window_center_label">Window Center (Brigth): <output id="value_wc"></output></p>
    <input type="range" id="window_center" name="window_center" 
           min="-1000" max="3000" step="10" value="500">
    
    <p id="window_width_label">Window Width (Contrast): <output id="value_ww"></output></p>
    <input type="range" id="window_width" name="window_width" 
           min="1" max="4000" step="10" value="2000">
        

    <button id="zoom_in-btn">
        <span class="material-symbols-outlined">
        zoom_in
        </span>
    </button>

    <button id="zoom_out-btn">
        <span class="material-symbols-outlined">
        zoom_out
        </span>
    </button>

    <button id="reset-btn">
        <span class="material-symbols-outlined">
        reset_settings
        </span>
    </button>


    <div id="error"></div>

    <div class="img-container">
        <canvas id="dicom_image"></canvas>
    </div>
    
    
{% endblock %}

{% block script %}
    <script src="../static/viewer.js"></script>
{% endblock %}